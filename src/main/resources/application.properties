server.port=${PORT:8005}
spring.profiles.active=${MODE:dev}

# Application Mode
app.mode=${MODE:dev}
app.secret-key=${SECRET_KEY}

# Database Configuration (PostgreSQL)
# URL can include credentials: postgresql://user:pass@host:port/database
# Or use separate username/password properties (they take precedence over URL credentials)
spring.datasource.url=${DB_URL:}
spring.datasource.username=${DB_USERNAME:}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver
# HikariCP enhanced Pool settings
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=300000
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.pool-name=ActivationAutomationHikariPool

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=false

# Redis Configuration
spring.data.redis.url=${REDIS_URL}

# Redis Pool Configuration
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0
spring.data.redis.lettuce.pool.max-wait=-1ms

# Mail Configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${EMAIL_USER}
spring.mail.password=${EMAIL_PASS}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# JWT Configuration
app.jwt.secret=${JWT_SECRET}
app.jwt.access-expiration-minutes=${JWT_ACCESS_EXPIRATION_MINUTES:30}
app.jwt.refresh-expiration-days=${JWT_REFRESH_EXPIRATION_DAYS:30}

# Application Custom Properties
app.env-mode=${ENV_MODE:dev}
app.bcrypt-cost-factor=${BCRYPT_COST_FACTOR:10}

# Azure Configuration
app.azure.default-endpoints-protocol=${DEFAULT_ENDPOINTS_PROTOCOL:https}
app.azure.account-name=${ACCOUNT_NAME}
app.azure.account-key-part1=${ACCOUNT_KEY_PART1}
app.azure.account-key-part2=${ACCOUNT_KEY_PART2}
app.azure.endpoint-suffix=${ENDPOINT_SUFFIX}

# Email Properties
app.email.user=${EMAIL_USER}
app.email.pass=${EMAIL_PASS}

# GCP Bucket Configuration
app.gcp.type=${GCP_TYPE:service_account}
app.gcp.project-id=${GCP_PROJECT_ID:ice-cream-445112}
app.gcp.bucket-private-key-id=${GCP_BUCKET_PRIVATE_KEY_ID}
app.gcp.bucket-private-key=${GCP_BUCKET_PRIVATE_KEY}
app.gcp.client-email=${GCP_CLIENT_EMAIL:cdn-bucket@ice-cream-445112.iam.gserviceaccount.com}
app.gcp.client-id=${GCP_CLIENT_ID:118065381637518060724}
app.gcp.auth-uri=${GCP_AUTH_URI:https://accounts.google.com/o/oauth2/auth}
app.gcp.token-uri=${GCP_TOKEN_URI:https://oauth2.googleapis.com/token}
app.gcp.auth-provider-x509-cert-url=${GCP_AUTH_PROVIDER_X509_CERT_URL:https://www.googleapis.com/oauth2/v1/certs}
app.gcp.client-x509-cert-url=${GCP_CLIENT_X509_CERT_URL:https://www.googleapis.com/robot/v1/metadata/x509/cdn-bucket%40ice-cream-445112.iam.gserviceaccount.com}
app.gcp.universe-domain=${GCP_UNIVERSE_DOMAIN:googleapis.com}

# AI Backend Configuration
app.ai-backend-url=${AI_BACKEND_URL}
app.ai-backend-secret-key=${AI_BACKEND_SECRET_KEY}

# Default URLs and IDs
app.default-gcs-url=${DEFAULT_GCS_URL:https://shelfex-cdn.storage.googleapis.com/automation-activation}
app.default-profile-img-url=${DEFAULT_PROFILE_IMG_URL:https://storage.googleapis.com/shelfex-cdn/portal/own/images/profile_img.jpg}
app.default-admin-id=${DEFAULT_ADMIN_ID:1}
app.frontend-url=${FRONTEND_URL}
app.go-backend-url=${GO_BACKEND_URL}

# Redis URLs
app.redis-url-dev=${REDIS_URL_DEV}
app.redis-url-prod=${REDIS_URL_PROD}

# Logging
logging.file.path=./logs
logging.file.name=./logs/info.log
logging.level.root=INFO
logging.level.com.shelfpulse=DEBUG
logging.level.org.springframework.web.multipart=DEBUG
logging.level.org.apache.coyote.http11=DEBUG

# Multipart (File Upload)
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=30MB
spring.servlet.multipart.max-request-size=30MB
spring.servlet.multipart.location=C:/temp/shelfpulse_uploads

# Jackson Configuration
# spring.jackson.serialization.write-dates-as-timestamps=false

# Socket.IO Configuration (runs on same port as HTTP server)
app.allowed-origins=${ALLOWED_ORIGINS:*}
